// Default configuration file
{
  // Parameters pertaining to the Catenis application
  "application": {
    "appName": "Catenis",
    "seedFilename": "seed.dat",
    "walletPswLength": 16,
    "cryptoNetwork": "testnet"
  },
  // Parameters pertaining to logging mechanism
  "logging": {
    "console": {
      "active": true,
      "logLevel": "INFO" // Valid options: ALL, TRACE, DEBUG, INFO, WARN, ACTION, ERROR, FATAL
    },
    "file": {
      "active": true,
      "logLevel": "DEBUG", // Valid options: ALL, TRACE, DEBUG, INFO, WARN, ACTION, ERROR, FATAL
      "logDir": "log",
      "logFilename": "catenis.log"
    },
    "email": {
      "active": true,
      "logLevel": "WARN", // Valid options: ALL, TRACE, DEBUG, INFO, WARN, ACTION, ERROR, FATAL
      "smtpHost": "localhost",
      //"secureProto": "tls",  // To be set only if a secure protocol should be used. Valid options: ssl or tls
      //"smtpPort": 587,  // To be set only if different than default (depending on secureProto): none (25), ssl (465), tls (587)
      //"username": "username", // To be set only if required by SMTP host
      //"password": "password",   // To be set only if required by SMTP host
      "toAddresses": "andre@blockchainofthings.com", // Can be set to a comma separated list of e-mail addresses
      "fromAddress": "Catenis <noreply@catenis.com>",
      "subject": "{{level}} - {{msg}}"
    }
  },
  // Parameters pertaining to BitcoinFees module
  "bitcoinFees": {
    "apiVer1Url": "https://bitcoinfees.21.co/api/v1/fees/",  // URL of version 1 of BitcoinFees API provided by 21.co
    "recommendedFeesEndPoint": "recommended",  // Endpoint of BitcoinFees API method for retrieving recommended fees
    "listFeesEndPoint": "list",  // Endpoint of BitcoinFees API method for retrieving complete list of fees
    "retrieveFeesInterval": 86400000,  // Time interval, in miliseconds, for executing method to retrieve latest bitcoin fees
    "numDbRecsToMaintain": 2000,  // Number of database docs/recs used to store latest fees that should be maintained when puging the database
    "dbPurgeHours": 2,  // Hours component of time when database purge should take place
    "dbPurgeMinutes": 0,  // Minutes component of time when database purge should take place
    "dbPurgeSeconds": 0,  // Seconds component of time when database purge should take place
    "dbPurgeInterval": 86400000  // Time interval, in miliseconds, for executing process to purge database (delete oldest fees docs/recs)
  },
  // Parameters pertaining to KeyStore module
  "keyStore": {
    "obsoleteExtKeyTimeToPurge": 345600, // Time, in seconds, before an obsolete HD extended key is purged from local key storage
    "purgeUnusedExtKeyInterval": 43200000  // Time interval, in miliseconds, for executing method to purge unused HD extended keys form local key storage
  },
  // Parameters pertaining to BitcoinCore module
  "bitcoinCore": {
    "serverHost": "catenis1", // Bitcoin Core server host name/IP address
    "mainRpcPort": 8332, // Port used to connect with Bitcoin Core server via its RPC interface to interact with bitcoin's main blockchain
    "testnetRpcPort": 18332, // Port used to connect with Bitcoin Core server via its RPC interface to interact with bitcoin's testnet blockchain
    "rpcUser": "??????", // Username used to connect with Bitcoin Core server via its RPC interface
    "rpcPassword": "??????", // Password used to connect with Bitcoin Core server via its RPC interface
    "rpcConnectionTimeout": 15000,  // Timeout, in miliseconds, for RPC connection with the Bitcoin Core server
    "rescanTimeout": 7200000 // Timeout, in miniseconds, for waiting on Bitcoin Core to finish rescanning the blockchain after importing private key
  },
  // Parameters pertaining to BlockchainAddress module
  "blockchainAddress": {
    "addressValidity": {  // Time, in seconds, before which a newly issued address expires
      "catenisNodeDeviceMain": 900,
      "catenisNodeFundingPayment":  14400,
      "catenisNodeFundingChange": 900,
      "catenisNodePayTxExpense": 900,
      "clientMessageCredit": 900,
      "clientAssetCredit": 900,
      "deviceReadConfirm": 900,
      "deviceMain": 900,
      "deviceAsset": 900,
      "deviceAssetIssuance": 900
    },
    "updateIssuedAddressesInterval": 1800000, // Time interval, in miliseconds, for executing method to update issued addresses
    "inactivedObjectTime": 345600,  // Time, in seconds, from the time when instantiated object has been last accessed before it is considered inactive
    "deleteInactiveObjectsInterval": 43200000 // Time interval, in miliseconds, for executing method to delete inactive objects
  },
  // Parameters pertaining to FundSource module
  "fundSource": {
    "maxAncestorsCount": 25, // Maximum count of (unconfirmed) ancestor txs for tx to be accepted into mempool (to be relayed)
    "maxAncestorsSize": 101000,  // Maximum total size (in bytes) of (unconfirmed) ancestor txs for tx to be accepted into mempool (to be relayed)
    "maxDescendantsCount": 25, // Maximum count of (unconfirmed) descendant txs for tx to be accepted into mempool (to be relayed)
    "maxDescendantsSize": 101000  // Maximum total size (in bytes) of (unconfirmed) descendant txs for tx to be accepted into mempool (to be relayed)
  },
  // Parameters pertaining to Service module
  "service": {
    "paymentResolution": 1000,  // Resolution of amount that should be allocated to pay for tx expenses. In other words, the allocated amount should be a multiple of the amount
    "serviceCreditAmount": 600,   // Amount, in satoshis, that should be allocated to client service credit addresses
    "serviceCreditMultiplyFactor": 10,  // Maximum number of service credit amount (serviceCreditAmount) that can be pre-allocated to a service credit address
    "minFundClientsProvision": 10,  // Number of clients that minimum fund balance should be able to provision
    "minFundDevicesProvision": 10,  // Number of devices per client that minimum fund balance should be able to provision
    "minFundMessageCreditsProvision": 100,  // Message credit amount per device that mininum fund balance should be able to provision
    "minFundAssetCreditsProvision": 100,  // Asset credit amount per device that mininum fund balance should be able to provision
    "catenisNodeMessageCredits": 100,  // Credits that should be considered to be pre-allocated to Catenis node to send system messages
    "fundPayTxResolution": 10000,  // Resolution of amount allocated to system pay tx expense addresses
    "fundPayTxMultiplyFactor": 10,  // Maximum number of fund pay tx expense (fundPayTxResolution) that can be pre-allocated to a system pay tx expense addr
    "message": {
      "messagesPerMinute": 4,  // Number of messages sents per minute that is expected to be sustained
      "minutesToConfirm": 60,  // Time, in minutes, within which send message txs are expected to be confirmed
      "unconfMainAddrReuses": 10,  // Number of times an UTXO associated with a device main addr is expected to be reused
      "fundMainAddrAmount": 600, // Amount, in stoshis, that should be allocated to a device main addr
      "fundMainAddrMultiplyFactor": 10,  // Maximum number of fund amount (fundMainAddrAmount) that can be pre-allocated to a device main addr
      "typicalTxConfig": {  // Typical transaction configuration
        "ctnNodeSendMessage": {        // Catenis Node send message transaction
          "numInputs": 3,         // Number of inputs (that spend P2PKH outputs)
          "numOutputs": 3,        // Number of (P2PKH) outputs
          "nullDataPlayloadSize": 80  // Size, in bytes, of payload of null data output
        },
        "sendMessage": {        // Device send message transaction
          "numInputs": 4,         // Number of inputs (that spend P2PKH outputs)
          "numOutputs": 4,        // Number of (P2PKH) outputs
          "nullDataPlayloadSize": 80  // Size, in bytes, of payload of null data output
        },
        "readConfirmation": {   // Read confirmation transaction
          "numInputs": 3,         // Number of inputs (that spend P2PKH outputs)
          "numOutputs": 2,        // Number of (P2PKH) outputs
          "nullDataPlayloadSize": 0  // Size, in bytes, of payload of null data output
        }
      }
    },
    "asset": {
      "unlockedAssetsPerMinute": 0.33,  // Number of unlocked assets issued per minute that is expected to be sustained
      "minutesToConfirm": 30,  // Time, in minutes, within which asset txs are expected to be confirmed
      "unconfAssetIssueAddrReuses": 10,  // Number of times an UTXO associated with a device asset issuance addr is expected to be reused
      "fundAssetIssueAddrAmount": 600, // Amount, in stoshis, that should be allocated to a device asset issuance addr
      "fundAssetIssueAddrMultiplyFactor": 10,  // Maximum number of fund amount (fundAssetIssueAddrAmount) that can be pre-allocated to a device asset issuance addr
      "txWeights": {  // Weight apply to each asset tx type for calculating average cost of asset service
        "issueLockedAsset": 1,    // Issue locked asset tx weight
        "issueUnlockedAsset": 1,  // Issue unlocked asset tx weight
        "transferAsset": 100      // Transfer asset tx weight
      },
      "typicalTxConfig": {  // Typical transaction configuration
        "issueLockedAsset": {   // Issue unlocked asset
          "numInputs": 3,           // Number of inputs (that spend P2PKH outputs)
          "numOutputs": 2,          // Number of (P2PKH) outputs
          "nullDataPlayloadSize": 65    // Size, in bytes, of payload of null data output
        },
        "issueUnlockedAsset": {   // Issue unlocked asset
          "numInputs": 4,           // Number of inputs (that spend P2PKH outputs)
          "numOutputs": 4,          // Number of (P2PKH) outputs
          "nullDataPlayloadSize": 65    // Size, in bytes, of payload of null data output
        },
        "transferAsset": {   // Issue unlocked asset
          "numInputs": 4,           // Number of inputs (that spend P2PKH outputs)
          "numOutputs": 3,          // Number of (P2PKH) outputs
          "nullDataPlayloadSize": 8     // Size, in bytes, of payload of null data output
        }
      }
    }
  },
  // Parameters pertaining to Transaction module
  "transaction": {
    "txInputSize": 148, // Size, in bytes, of typical transaction input (spending a P2PKH UTXO)
                        //  NOTE: this value should be reviewed for segwit transactions
    "txOutputSize": 34 // Size, in bytes, of a typical (P2PKH) transaction output
                       //  NOTE: this value should be reviewed for segwit transactions
  },
  // Parameters pertaining to TransactionMonitor module
  "transactionMonitor": {
    "blockchainPollingInterval": 15000, // Time interval, in miliseconds, for polling the blockchain for newly arrived transactions and blocks
    "mempoolExpiryHours": 72,  // Time, in hours, after which transactions are evicted from Bitcoin Core' mempool
    "confirmSentTxTime": 30  // Time, in minutes, after which a sent transaction should have been confirmed
  }
}